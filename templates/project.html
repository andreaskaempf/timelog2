{{ template "header.html" . }}

  <h1 class="title">
    {{ .p.Name }}
    <div style="float: right">
      <a href="/edit_project/{{ .p.Id }}" class="button is-small is-primary" style="margin-right: 0.5em;">Edit</a>
      <button onclick="confirmProjectDeletion({{ .p.Id }})" class="button is-small is-danger">Delete</button>
    </div>
  </h1>

  <div class="content">
    <table class="table">
      <tbody>
        <tr>
          <th>ID</th>
          <td>{{ .p.Id }}</td>
        </tr>
        <tr>
          <th>Client</th>
          <td>{{ .p.Client }}</td>
        </tr>
        <tr>
          <th>Name</th>
          <td>{{ .p.Name }}</td>
        </tr>
        <tr>
          <th>Description</th>
          <td>{{ .p.Description }}</td>
        </tr>
        <tr>
          <th>Category</th>
          <td>{{ .p.Category }}</td>
        </tr>
        <tr>
          <th>Active</th>
          <td>
            {{ if .p.Active }}
              <span class="tag is-success">Active</span>
            {{ else }}
              <span class="tag is-danger">Inactive</span>
            {{ end }}
          </td>
        </tr>
      </tbody>
    </table>

    <h2 class="subtitle" style="margin-top: 2rem;">Log Entries</h2>
    {{ if .entries }}
    <table class="table is-fullwidth">
      <thead>
        <tr>
          <th style="width: 20%;">Date</th>
          <th style="width: 10%;">Hours</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        {{ range .entries }}
        <tr>
          <td><a href="/work_entry/{{ .Id }}">{{ .WorkDate }}</a></td>
          <td>{{ printf "%.2f" .Hours }}</td>
          <td>{{ .Description }}</td>
        </tr>
        {{ end }}
      </tbody>
      <tfoot>
        <tr>
          <th colspan="2">Entries</th>
          <td>{{ .totalCount }}</td>
        </tr>
        <tr>
          <th colspan="2">Total Hours</th>
          <td>{{ printf "%.2f" .totalHours }}</td>
        </tr>
      </tfoot>
    </table>
    {{ else }}
    <p>No log entries for this project yet.</p>
    {{ end }}
  </div>

{{ template "footer.html" .}}

